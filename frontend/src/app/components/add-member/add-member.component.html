<div class="container p-8">
  <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
    <!-- Main Content -->
    <div class="md:col-span-2">
      <h1 class="text-2xl font-bold mb-2">Ajouter un nouveau membre</h1>
      <p class="mb-6 text-gray-600">Créez un compte pour un nouveau membre de l'équipe. Il recevra une invitation par email pour configurer son mot de passe.</p>

      <!-- Personal Information -->
      <div class="bg-white p-6 rounded-lg shadow-sm mb-6">
        <h2 class="text-lg font-semibold mb-4 flex items-center">
          <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
          Informations personnelles
        </h2>
        <p class="text-sm text-gray-500 mb-4">Entrez les informations de base du nouveau membre.</p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label for="prenom" class="block text-sm font-medium text-gray-700">Prénom</label>
            <input type="text" id="prenom" [(ngModel)]="user.prenom" name="prenom" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
          </div>
          <div>
            <label for="nom" class="block text-sm font-medium text-gray-700">Nom</label>
            <input type="text" id="nom" [(ngModel)]="user.nom" name="nom" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
          </div>
        </div>
        <div class="mt-4">
          <label for="email" class="block text-sm font-medium text-gray-700">Adresse email</label>
          <input type="email" id="email" [(ngModel)]="user.email" name="email" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="exemple@entreprise.com">
          <p class="mt-2 text-sm text-gray-500">Cette adresse sera utilisée pour envoyer l'invitation et se connecter au système.</p>
        </div>
        <div class="mt-4">
          <label for="telephone" class="block text-sm font-medium text-gray-700">Numéro de téléphone <span class="text-gray-500">(optionnel)</span></label>
          <input type="tel" id="telephone" [(ngModel)]="user.telephone" name="telephone" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="+33 1 23 45 67 89">
        </div>
      </div>

      <!-- Role and Department -->
      <div class="bg-white p-6 rounded-lg shadow-sm mb-6">
        <h2 class="text-lg font-semibold mb-4 flex items-center">
          <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.284-1.255-.778-1.682M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.284-1.255.778-1.682M12 12a4 4 0 100-8 4 4 0 000 8zM12 12a9 9 0 100 18 9 9 0 000-18z"></path></svg>
          Rôle et département
        </h2>
        <p class="text-sm text-gray-500 mb-4">Définissez le rôle et le département du nouveau membre.</p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label for="departement" class="block text-sm font-medium text-gray-700">Département</label>
            <select id="departement" [(ngModel)]="user.departement" name="departement" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
              <option value="">Sélectionner un département</option>
              <option value="Design">Design</option>
              <option value="Development">Development</option>
              <option value="Marketing">Marketing</option>
              <option value="RH">Ressources Humaines</option>
              <option value="Finance">Finance</option>
              <option value="Commercial">Commercial</option>
              <option value="Support">Support Technique</option>
              <option value="Operations">Opérations</option>
              <option value="Qualite">Qualité</option>
              <option value="Production">Production</option>
            </select>
          </div>
          <div>
            <label for="role" class="block text-sm font-medium text-gray-700">Rôle</label>
            <select id="role" [(ngModel)]="user.role" name="role" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
              <option value="">Sélectionner un rôle</option>
              <option [value]="roles.ADMIN">Administrateur</option>
              <option [value]="roles.DIRECTEUR">Directeur</option>
              <option [value]="roles.MEMBRE_EQUIPE">Membre d'équipe</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Poste -->
      <div class="bg-white p-6 rounded-lg shadow-sm mb-6">
        <h2 class="text-lg font-semibold mb-4 flex items-center">
          <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
          Poste
        </h2>
        <p class="text-sm text-gray-500 mb-4">Définissez le poste du nouveau membre.</p>
        <div>
          <label for="poste" class="block text-sm font-medium text-gray-700">Poste</label>
          <select id="poste" [(ngModel)]="user.poste" name="poste" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
            <option value="">Sélectionner un poste</option>
            <option value="Développeur Full-Stack">Développeur Full-Stack</option>
            <option value="Développeur Front-End">Développeur Front-End</option>
            <option value="Développeur Back-End">Développeur Back-End</option>
            <option value="Designer UI/UX">Designer UI/UX</option>
            <option value="Chef de Projet">Chef de Projet</option>
            <option value="Product Owner">Product Owner</option>
            <option value="Scrum Master">Scrum Master</option>
            <option value="Architecte Solution">Architecte Solution</option>
            <option value="DevOps Engineer">DevOps Engineer</option>
            <option value="Data Scientist">Data Scientist</option>
            <option value="Business Analyst">Business Analyst</option>
            <option value="QA Engineer">QA Engineer</option>
            <option value="Technical Lead">Technical Lead</option>
            <option value="Security Engineer">Security Engineer</option>
            <option value="Database Administrator">Database Administrator</option>
            <option value="System Administrator">System Administrator</option>
            <option value="Network Engineer">Network Engineer</option>
            <option value="Support Technique">Support Technique</option>
            <option value="Chef d'équipe">Chef d'équipe</option>
          </select>
        </div>
      </div>

      <!-- Invitation Options -->
      <div class="bg-white p-6 rounded-lg shadow-sm mb-6">
        <h2 class="text-lg font-semibold mb-4 flex items-center">
          <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
          Options d'invitation
        </h2>
        <div class="flex items-start">
          <div class="flex items-center h-5">
            <input id="invitation" name="invitation" type="checkbox" checked class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded" disabled>
          </div>
          <div class="ml-3 text-sm">
            <label for="invitation" class="font-medium text-gray-700">Envoyer une invitation par email</label>
            <p class="text-gray-500">Le membre recevra un email avec un lien pour configurer son mot de passe et accéder au système.</p>
          </div>
        </div>
        <div class="flex items-start mt-4">
          <div class="flex items-center h-5">
            <input id="notifications" name="notifications" type="checkbox" checked class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
          </div>
          <div class="ml-3 text-sm">
            <label for="notifications" class="font-medium text-gray-700">Notifications par email</label>
            <p class="text-gray-500">Le membre recevra des notifications par email pour les nouvelles tâches et mises à jour de projets.</p>
          </div>
        </div>
      </div>

      <div class="flex justify-end">
        <button (click)="onSubmit()" 
                [disabled]="isLoading"
                class="inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed">
          <ng-container *ngIf="isLoading; else defaultButtonContent">
            <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            <span>En cours...</span>
          </ng-container>
          <ng-template #defaultButtonContent>
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path></svg>
            <span>Créer le membre</span>
          </ng-template>
        </button>
      </div>
    </div>

    <!-- Sidebar -->
    <div class="md:col-span-1">
      <!-- Profile Preview -->
      <div class="bg-white p-6 rounded-lg shadow-sm mb-6">
        <h2 class="text-lg font-semibold mb-4">Aperçu du profil</h2>
        <div class="flex items-center">
          <div class="w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center">
            <svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
          </div>
          <div class="ml-4">
            <p class="font-semibold">{{ user.prenom || 'Prénom' }} {{ user.nom || 'Nom' }}</p>
            <p class="text-sm text-gray-500">{{ user.email || 'email@example.com' }}</p>
          </div>
        </div>
        <div class="mt-4">
          <p><span class="font-semibold">Département:</span> {{ user.departement || 'Non sélectionné' }}</p>
          <p><span class="font-semibold">Rôle:</span> {{ user.role || 'Non sélectionné' }}</p>
          <p><span class="font-semibold">Poste:</span> {{ user.poste || 'Non sélectionné' }}</p>
        </div>
      </div>

      <!-- Invitation Process -->
      <div class="bg-white p-6 rounded-lg shadow-sm">
        <h2 class="text-lg font-semibold mb-4">Processus d'invitation</h2>
        <ul class="space-y-4">
          <li class="flex items-start">
            <div class="flex-shrink-0">
              <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold">1</div>
            </div>
            <div class="ml-3">
              <p class="font-semibold">Création du compte</p>
              <p class="text-sm text-gray-500">Le compte est créé avec les informations fournies.</p>
            </div>
          </li>
          <li class="flex items-start">
            <div class="flex-shrink-0">
              <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 font-bold">2</div>
            </div>
            <div class="ml-3">
              <p class="font-semibold">Envoi de l'invitation</p>
              <p class="text-sm text-gray-500">Un email d'invitation est envoyé avec un lien sécurisé.</p>
            </div>
          </li>
          <li class="flex items-start">
            <div class="flex-shrink-0">
              <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 font-bold">3</div>
            </div>
            <div class="ml-3">
              <p class="font-semibold">Configuration du mot de passe</p>
              <p class="text-sm text-gray-500">Le membre définit son mot de passe et accède au système.</p>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
